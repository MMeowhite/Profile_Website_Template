# Linux系统学习（一）

  ## 1. 第一章：Linux概述

  ### 1.1 什么是Linux

  Linux是一种类Unix操作系统，由内核和一系列软件工具组成。1991年由林纳斯·托瓦兹首次发布，Linux已发展成为一个功能强大、稳定且开源的操作系统，全球各地的开发者都对其做出了贡献。其开源特性允许自由查看、修改和分发源代码，从而产生了许多定制的Linux发行版，如Ubuntu、CentOS和Debian。

  <img src="./assets/linux_tutorial_1/Linus_Torvalds.jpg" alt="Linus_Torvalds" height="200px" />

  <div style="text-align: center; font-size: 12px; font-style: italic;">Linus Torvalds，Linux系统创始人</div>

  ### 1.2 Linux的历史

  Linux是著名的开源操作系统，其历史充满魅力与事件。1991年，芬兰赫尔辛基大学的计算机科学学生林纳斯·托瓦兹开启了一段旅程，他创建了一个操作系统内核，这最终革新了技术世界。

  <img src="./assets/linux_tutorial_1/History_Linus.webp" alt="History_Linus" height="200px" />

  <div style="text-align: center; font-size: 12px; font-style: italic;">source: https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0IFhRKvx6T7tC0Atf7a91g.png</div>

  最初，托瓦兹受到MINIX的启发，MINIX是一个用于教育目的的小型类Unix操作系统。但他希望创造一个更具可扩展性和灵活性的系统。1991年8月25日，他在Usenet上宣布了Linux项目，将其描述为“一个免费的操作系统内核”，并邀请开发者贡献代码。

  Linux的初始版本0.01于1991年9月发布。虽然功能简单，但为后续发展奠定了基础。随着项目的推进，全球各地的开发者开始贡献代码，增加功能并提高稳定性。1991年10月，Linux发布了0.02版本，引入了重大改进和额外功能。这种快速的开发周期持续进行，每个新版本都使操作系统更接近成为专有系统的可行替代品。Linux的标志是一只名为Tux的企鹅，于1996年推出。Tux由拉里·伊温设计，已成为Linux社区心爱的吉祥物，象征着系统的友好和亲切。在整个90年代，Linux从一个爱好项目发展成为一个由全球开发者社区支持的健壮操作系统。开源模式使得协作创新成为可能，程序员可以自由分享改进和修改。20世纪初，Linux扩展到服务器之外，进入桌面和嵌入式系统。Ubuntu、Fedora和Debian等发行版使Linux对非技术用户更加友好，而Android则将Linux带入移动领域。

  如今，Linux为从智能手机、路由器到超级计算机和云基础设施的设备提供支持。其多样性和适应性使它成为现代技术的基石。Linux的故事不仅仅是关于一个操作系统，它还展示了协作、开放性以及社区驱动创新的力量。

  ### 1.3 Linux的用途

  Linux在现代计算中发挥着重要作用，应用范围从个人电脑到超级计算机。作为一种类Unix操作系统，Linux因其开源、可定制和高效而受到全球青睐。它在服务器环境、云计算、嵌入式系统、超级计算甚至桌面应用中表现出色，展现出非凡的适应性。以下是其主要应用领域：

  - **服务器领域**：Linux在服务器市场占据主导地位，广泛应用于网络、数据库和邮件服务器。其稳定性和安全性使企业能够高效处理大量网络请求和数据存储任务，同时降低运营成本。
  - **云计算和虚拟化**：Linux是云基础设施的核心。借助轻量级容器技术（如Docker）和虚拟化解决方案（如KVM），它为云服务提供商和企业提供了高效的资源管理和应用程序部署能力。
  - **嵌入式系统**：Linux常见于嵌入式设备，如智能手机（例如Android）、路由器和物联网设备。其可定制性和开源特性使开发人员能够根据特定的硬件和功能需求进行优化。
  - **超级计算**：全球大多数超级计算机都运行Linux。凭借高效的过程调度、强大的文件系统和对大规模并行计算的支持，Linux满足了科学研究和数据分析中高性能计算的需求。
  - **桌面应用**：尽管在桌面市场占有率相对较低，但Linux仍为用户提供了一个稳定、安全且高度可定制的操作系统选项。它受到开源爱好者、开发者和技术专家的欢迎，并且拥有足够的软件支持，可满足日常办公、图形处理和音频/视频编辑等任务需求。

  ### 1.4 为什么Linux对程序员至关重要

  在当今的软件开发和信息技术领域，Linux是程序员必备的工具。它为服务器管理、应用程序开发和系统管理提供了高效、灵活且稳定的环境。熟悉Linux对于各种编程任务至关重要，以下是其重要性的详细说明：

  - **开源优势**：程序员可以自由访问并修改Linux的源代码，这有助于深入了解操作系统内部，并能根据项目需求进行定制开发，培养解决问题和创新思维的能力。
  - **丰富的开发工具**：Linux提供了广泛且强大的开发工具，如GCC、GDB和Make。它支持几乎所有主流编程语言的开发环境，提升了代码编写、调试和优化的效率。
  - **服务器端主导地位**：鉴于Linux在服务器领域的广泛应用，后端开发、服务器部署和维护都需要Linux的专业知识。无论是搭建Web服务器（如Apache、Nginx），配置数据库（如MySQL、PostgreSQL），还是优化服务器性能和安全性，掌握Linux都能让程序员更加得心应手。
  - **强大的社区支持和丰富的学习资源**：Linux拥有庞大而活跃的开源社区。程序员可以获取丰富的技术文档、教程、论坛讨论和开源项目资源。这种协作环境有助于快速解决问题并持续提升技能水平。
  - **稳定性和安全性**：Linux的稳定性和安全性特点能够减少因系统故障或安全漏洞导致的中断和风险，为开发可靠、高效的软件应用提供了坚实的基础，尤其在处理关键业务和敏感数据时更具优势。
  - **跨平台能力**：Linux能够轻松地与其他操作系统和硬件平台进行集成和互操作。程序员在不同环境下进行开发和部署时，Linux的跨平台特性可以确保代码的可移植性和兼容性，拓宽项目的应用范围和灵活性。
  
  ### 1.4 Linux是如何工作的？
  
  Linux是一种管理计算机硬件和软件资源的操作系统，为应用程序和用户提供基本服务。了解Linux的工作原理涉及探索其架构、组件以及它们之间的交互。
  
  #### 1.4.1 架构
  
  Linux采用多层架构，每一层都具有特定的功能：
  
  - **内核**：核心组件，负责进程管理、内存分配、设备驱动程序和系统调用。
  - **系统库**：为应用程序提供预编写代码，简化开发过程。
  - **系统工具**：用于管理系统，如文件管理、用户管理和网络配置。
  - **用户界面**：可以是命令行（CLI）或图形（GUI），使用户能够与系统交互。
  
  #### 1.4.2 关键组件
  
  ##### 1.4.2.1 内核
  
  Linux内核负责以下任务：
  
  - **进程管理**：创建、调度和终止进程。
  - **内存管理**：为进程分配和释放内存。
  - **设备驱动程序**：启用硬件交互。
  - **文件系统**：在存储设备上组织和存储数据。
  
  ##### 1.4.2.2 系统调用
  
  这些是允许应用程序请求内核服务的接口，例如读取/写入文件或创建进程。
  
  ##### 1.4.2.3 Shell
  
  Shell解释用户命令，并通过内核执行。Bash和Zsh是常见的Shell示例。
  
  ##### 1.4.2.4 守护进程

  在后台运行的进程，用于管理打印或网络服务等服务。

  #### 1.4.3 启动过程

  1. **BIOS/UEFI**：初始化硬件并加载引导程序。
  2. **引导程序**：将内核加载到内存中。
  3. **内核初始化**：设置硬件并启动第一个用户空间进程，通常是`init`。
  4. **系统初始化**：启动系统服务和守护进程。
  5. **登录提示**：向用户显示登录界面。

  #### 1.4.4 文件系统

  Linux使用分层文件系统：

  - **根目录（`/`）**：顶级目录，包含所有其他文件和目录。
  - **`/bin`**：基本用户二进制文件。
  - **`/etc`**：系统配置文件。
  - **`/home`**：用户目录。
  - **`/var`**：日志等可变数据。
  - **`/proc`**：提供系统信息的虚拟文件。
  - **`/dev`**：设备文件。

  #### 1.4.5 命令的执行

  当用户输入命令时：
  
  1. **Shell解析**：Shell分析命令。
  2. **路径搜索**：在`PATH`变量列出的目录中查找命令。
  3. **执行**：Shell创建一个新进程来运行命令，该命令随后与内核交互以获取资源。
  
  #### 1.4.6 多用户和多任务处理

  Linux支持多个用户和同时运行的任务：

  - **用户管理**：每个用户都有自己的权限和资源。
  - **进程隔离**：任务独立运行，互不干扰。
  - **调度**：内核公平地在进程之间分配CPU时间。
  
  #### 1.4.7 网络功能

  Linux集成了网络功能：

  - **协议**：支持TCP/IP等协议。
  - **工具**：用于网络管理的命令，如`ping`、`ssh`和`netstat`。
  - **服务器**：可以作为网络、邮件或文件服务器运行。
  
  #### 1.4.8 安全性

  安全机制包括：

  - **权限**：控制文件和目录的访问。
  - **用户认证**：密码和加密技术。
  - **防火墙**：管理网络流量。
  
  #### 1.4.9 软件管理

  软件以软件包的形式分发：

  - **包管理器**：如`apt`和`yum`，用于安装和更新软件。
  - **软件仓库**：软件包的集中存储位置。
  
  ### 1.5 总结
  
  Linux是由林纳斯·托瓦兹于1991年首次发布的功能强大、稳定且开源的类Unix操作系统。它在全球开发者的贡献下不断进化，形成了众多定制发行版。Linux的历史以快速发展为特征，从一个爱好项目转变为由全球社区支持的健壮系统。Linux在现代计算中发挥着关键作用，适用于服务器、云计算、嵌入式系统、超级计算和桌面应用等多种环境。其多样性和适应性使其成为现代技术的基石。对于程序员而言，Linux至关重要，因其开源特性、丰富的开发工具、在服务器端的主导地位、强大的社区支持和稳定性，为服务器管理、应用开发和系统管理提供了高效环境。Linux通过分层架构运行，内核位于核心，管理硬件和软件资源，通过系统调用提供基本服务，支持分层文件系统，并启用多用户和多任务环境。了解这些组件有助于用户和开发者充分利用Linux的功能。总之，Linux是程序员的一项关键技能，能够带来更广阔的职业发展机会，助力他们在软件开发中取得更大成就。
  
  ## 2. 如何访问Linux：不同系统（Windows、MacOS、Linux、云服务器）的指南
  
  ### 2.1 从**Windows**系统访问Linux
  
  从Windows系统进入Linux环境有三种方式：使用虚拟化软件、双系统启动和远程连接。每种方式都有其优缺点，如下表所示，可根据个人喜好和需求进行选择。

  |      方法      |                                                                                                                                优点                                                                                                                                |                                                                                                                     缺点                                                                                                                      |
  | :------------: |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
  | **虚拟化软件** |                               **1. 安装简单**：下载并安装如VMware或VirtualBox等虚拟化软件，创建虚拟机并加载Linux ISO镜像，即可开始直观的安装过程。<br />**2. 兼容性好**：在同一Windows系统上可以安装多个Linux发行版，方便进行不同系统环境的测试，且互不干扰。<br />**3. 高安全性**：虚拟机与主机系统相对隔离，降低了在实验新软件或配置时对主机造成损害的风险。                                |                **1. 性能损耗**：虚拟机共享主机资源（内存、CPU），可能会导致性能瓶颈，尤其在运行大型数据库或3D渲染等资源密集型应用时，体验会大打折扣。<br />**2. 占用资源**：虚拟机本身及安装的Linux系统会占用磁盘空间，随着使用时间和系统更新，占用空间可能会逐渐增多。<br />**3. 学习曲线**：管理虚拟化软件需要掌握一定的知识（如网络设置、共享文件夹配置等），对初学者来说有一定的学习成本。                |
  |   **双系统**   |                  **1. 性能最佳**：直接在硬盘上安装Linux系统，可充分利用计算机的硬件资源，不存在虚拟化的性能损耗，适合对性能要求高的应用场景，如编程开发和服务器部署。<br />**2. 独立环境**：Linux与Windows系统相互独立，可以在Linux系统中进行系统级的配置和操作，如同在物理机上直接使用。<br />**3. 长期使用方便**：如果经常需要使用Linux环境，双系统可以提供稳定且完整的系统体验，无需频繁切换或依赖其他软件。                   |      **1. 安装复杂**：需要制作可启动的Linux安装介质（如U盘），并在安装过程中对硬盘进行分区操作，对于不熟悉分区和安装流程的用户来说存在一定难度。<br />**2. 风险较高**：安装过程中若操作不当，可能会导致硬盘数据丢失或损坏现有Windows系统的启动项，需要谨慎备份数据并按照安装向导正确操作。<br />**3. 切换不便**：每次切换系统需要重启计算机，对于需要频繁在Windows和Linux之间切换的用户来说，操作较为繁琐。       |
  |  **远程连接**  |**1. 灵活便捷**：只要有网络连接，就可以通过SSH客户端（如PuTTY）从Windows系统远程连接到任何地方的Linux服务器，不受地理位置限制，方便进行远程管理和维护。<br />**2. 资源利用高效**：本地Windows系统无需安装额外的大型软件或分配过多资源，只需一个轻量级的SSH客户端即可访问远程Linux系统，节省本地计算资源。<br />**3. 适合服务器管理**：远程连接是管理远程Linux服务器的主要方式，可以方便地进行系统配置、软件安装、服务管理等操作，是运维工作中的必备技能。 | **1. 依赖网络**：连接和操作的稳定性完全依赖网络状况，若网络出现波动或中断，可能会导致连接中断，影响操作的连续性。<br />**2. 安全性要求高**：远程连接需要暴露服务器的IP地址和SSH端口，存在被恶意攻击的风险，需要采取如设置强密码、使用密钥认证、配置防火墙等安全措施来保障连接安全。<br />**3. 功能受限**：通过远程连接主要是进行命令行操作，对于一些需要图形界面的应用场景，可能需要额外配置X11转发等，操作相对复杂且可能受到网络带宽的限制。 |

  #### 2.1.1 使用虚拟化软件（如VMware或VirtualBox）

  - **安装虚拟化软件**：从官网下载并安装VMware或VirtualBox。
  - **创建虚拟机**：打开软件，点击“新建”，选择Linux操作系统及版本，按照向导设置虚拟机的硬件配置（如内存、硬盘等）。
  - **安装Linux系统**：将Linux发行版的ISO镜像文件加载到虚拟机中，启动虚拟机并按照安装向导完成Linux系统的安装。
  - **启动Linux**：安装完成后，每次打开虚拟机即可进入Linux环境。
  
  #### 2.1.2 双系统安装
  
  - **制作Linux安装介质**：下载Linux发行版的ISO镜像文件，使用工具（如Rufus）将其制作成可启动的U盘。
  - **安装Linux系统**：重启计算机，在启动时按下对应的按键（如F12、Esc等）进入启动菜单，选择从U盘启动，按照安装向导将Linux系统安装到硬盘上，与Windows系统共存。
  - **选择启动系统**：重启计算机后，进入BIOS设置（通常在开机时按下Del、F2等键），调整启动顺序，使计算机能够识别并启动Linux系统。此后，每次开机时，系统会提供选择菜单，可选择进入Windows或Linux系统。
  
  #### 2.1.3 使用远程连接（如SSH）
  
  - **安装SSH客户端**：在Windows系统中，可以使用PuTTY等SSH客户端软件。
  - **配置远程连接**：在PuTTY中输入远程Linux服务器的IP地址和端口号，点击“打开”建立连接。
  - **登录Linux**：在弹出的终端中输入用户名和密码，即可远程登录到Linux系统，进行相应的操作。

  ### 2.2 从**MacOS**系统访问Linux
  
  本质上，Mac操作系统是基于UNIX的，这意味着它与Linux有着相似的核心特性和底层架构。UNIX是一种历史悠久且稳定的操作系统，它的设计理念是将复杂的问题简单化，并通过模块化的工具来实现强大的功能。Mac系统继承了UNIX的许多优点，比如高效的文件管理系统、稳定的多任务处理能力以及强大的网络功能。对于初学者来说，了解Mac系统的UNIX基础可以帮助你更好地理解其操作逻辑和使用方法。例如，Mac上的终端应用就是基于UNIX shell，你可以通过简单的命令行指令来执行各种系统操作，这与在Linux系统中使用终端非常相似。无论是文件管理、软件安装还是系统设置，Mac和Linux都提供了丰富且灵活的工具供用户使用。你可以通过`command + 空格`打开聚焦搜索，然后再聚焦搜索栏中输入`terminal`，终端窗口就会弹出，就能直接使用大部分的Linux命令，但是需要注意的是UNIX与Linux还是有许多不同的地方，Linux的命令不能完全移植到macOS的终端中使用。

  #### 2.2.1 使用虚拟化软件（如VirtualBox）
  
  - **安装VirtualBox**：从官网下载并安装适合MacOS的VirtualBox版本。
  - **创建并安装Linux系统**：与在Windows上类似，打开VirtualBox，点击“新建”，选择Linux操作系统及版本，设置硬件配置，加载Linux ISO镜像文件，启动虚拟机并按照安装向导完成安装。
  - **启动Linux**：之后，每次启动虚拟机即可进入Linux环境进行使用。

  #### 2.2.2 使用远程连接（如SSH）
  
  - **打开终端**：在MacOS中，可以通过“聚焦搜索”找到“终端”应用并打开。
  - **配置SSH连接**：在终端中使用`ssh username@remote_host`命令，输入远程Linux服务器的IP地址、用户名和密码，建立远程连接，访问和操作Linux系统。
  
  ### 2.3 直接启动已安装的Linux系统
  
  - **启动选择**：如果计算机已安装Linux系统且设置为默认启动项，开机后将自动进入Linux的引导界面。
  - **选择启动项**：在引导界面中，通常会有多个内核版本或其他操作系统的选项，根据需要选择对应的Linux内核版本，即可启动进入Linux系统。
  - **登录系统**：进入系统后，在登录界面输入用户名和密码，完成登录，开始使用Linux系统进行各种操作，如文件管理、软件安装、网络配置等。
  
  ### 2.4 通过云服务器远程连接到Linux系统
  
  - **访问云控制台**：登录到购买的云服务器提供商的控制台，找到对应的Linux云服务器实例。
  - **获取连接信息**：在云控制台中查看云服务器的IP地址、用户名和密码等连接信息。
  - **使用SSH客户端连接**：可以使用系统自带的终端（MacOS和Linux系统）或PuTTY（Windows系统）等SSH客户端，输入云服务器的IP地址、用户名和密码进行远程连接，从而进入Linux系统进行管理和操作。